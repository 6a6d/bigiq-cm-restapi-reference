<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.5">
<title>OAuth Token Revocation on BIG-IP devices using a BIG-IQ Centralized Management system</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/* Asciidoctor default stylesheet | MIT License | http://asciidoctor.org */
/* Remove comment around @import statement below when using as a custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section,summary{display:block}
audio,canvas,video{display:inline-block}
audio:not([controls]){display:none;height:0}
[hidden],template{display:none}
script{display:none!important}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
a{background:transparent}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
input[type="search"]{-webkit-appearance:textfield;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;box-sizing:content-box}
input[type="search"]::-webkit-search-cancel-button,input[type="search"]::-webkit-search-decoration{-webkit-appearance:none}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*:before,*:after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto;tab-size:4;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.center{margin-left:auto;margin-right:auto}
.spread{width:100%}
p.lead,.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{font-size:1.21875em;line-height:1.6}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:none}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #ddddd8;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol,ul.no-bullet,ol.no-bullet{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ul.no-bullet{list-style:none}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite:before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media only screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7;font-weight:bold}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt,table tr:nth-of-type(even){background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix:before,.clearfix:after,.float-group:before,.float-group:after{content:" ";display:table}
.clearfix:after,.float-group:after{clear:both}
*:not(pre)>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background-color:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed;word-wrap:break-word}
*:not(pre)>code.nobreak{word-wrap:normal}
*:not(pre)>code.nowrap{white-space:nowrap}
pre,pre>code{line-height:1.45;color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;text-rendering:optimizeSpeed}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background-color:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menu{color:rgba(0,0,0,.8)}
b.button:before,b.button:after{position:relative;top:-1px;font-weight:400}
b.button:before{content:"[";padding:0 3px 0 2px}
b.button:after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header:before,#header:after,#content:before,#content:after,#footnotes:before,#footnotes:after,#footer:before,#footer:after{content:" ";display:table}
#header:after,#content:after,#footnotes:after,#footer:after{clear:both}
#content{margin-top:1.25em}
#content:before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #ddddd8}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #ddddd8;padding-bottom:8px}
#header .details{border-bottom:1px solid #ddddd8;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span:before{content:"\00a0\2013\00a0"}
#header .details br+span.author:before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark:before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber:after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #ddddd8;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #efefed;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media only screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background-color:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #efefed;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #efefed;left:auto;right:0}}
@media only screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background-color:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
.sect1{padding-bottom:.625em}
@media only screen and (min-width:768px){.sect1{padding-bottom:1.25em}}
.sect1+.sect1{border-top:1px solid #efefed}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor:before,h2>a.anchor:before,h3>a.anchor:before,#toctitle>a.anchor:before,.sidebarblock>.content>.title>a.anchor:before,h4>a.anchor:before,h5>a.anchor:before,h6>a.anchor:before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock>caption.title{white-space:nowrap;overflow:visible;max-width:0}
.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>.paragraph:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #ddddd8;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock pre:not(.highlight),.listingblock pre[class="highlight"],.listingblock pre[class^="highlight "],.listingblock pre.CodeRay,.listingblock pre.prettyprint{background:#f7f7f8}
.sidebarblock .literalblock pre,.sidebarblock .listingblock pre:not(.highlight),.sidebarblock .listingblock pre[class="highlight"],.sidebarblock .listingblock pre[class^="highlight "],.sidebarblock .listingblock pre.CodeRay,.sidebarblock .listingblock pre.prettyprint{background:#f2f1f1}
.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;padding:1em;font-size:.8125em}
.literalblock pre.nowrap,.literalblock pre[class].nowrap,.listingblock pre.nowrap,.listingblock pre[class].nowrap{overflow-x:auto;white-space:pre;word-wrap:normal}
@media only screen and (min-width:768px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:.90625em}}
@media only screen and (min-width:1280px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:1em}}
.literalblock.output pre{color:#f7f7f8;background-color:rgba(0,0,0,.9)}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.listingblock>.content{position:relative}
.listingblock code[data-lang]:before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:#999}
.listingblock:hover code[data-lang]:before{display:block}
.listingblock.terminal pre .command:before{content:attr(data-prompt);padding-right:.5em;color:#999}
.listingblock.terminal pre .command:not([data-prompt]):before{content:"$"}
table.pyhltable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.pyhltable td{vertical-align:top;padding-top:0;padding-bottom:0;line-height:1.45}
table.pyhltable td.code{padding-left:.75em;padding-right:0}
pre.pygments .lineno,table.pyhltable td:not(.code){color:#999;padding-left:0;padding-right:.5em;border-right:1px solid #ddddd8}
pre.pygments .lineno{display:inline-block;margin-right:.25em}
table.pyhltable .linenodiv{background:none!important;padding-right:0!important}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock blockquote p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote:before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.5em;margin-right:.5ex;text-align:right}
.quoteblock .quoteblock{margin-left:0;margin-right:0;padding:.5em 0;border-left:3px solid rgba(0,0,0,.6)}
.quoteblock .quoteblock blockquote{padding:0 0 0 .75em}
.quoteblock .quoteblock blockquote:before{display:none}
.verseblock{margin:0 1em 1.25em 1em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract{margin:0 0 1.25em 0;display:block}
.quoteblock.abstract blockquote,.quoteblock.abstract blockquote p{text-align:left;word-spacing:0}
.quoteblock.abstract blockquote:before,.quoteblock.abstract blockquote p:first-of-type:before{display:none}
table.tableblock{max-width:100%;border-collapse:separate}
table.tableblock td>.paragraph:last-child p>p:last-child,table.tableblock th>p:last-child,table.tableblock td>p:last-child{margin-bottom:0}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all th.tableblock,table.grid-all td.tableblock{border-width:0 1px 1px 0}
table.grid-all tfoot>tr>th.tableblock,table.grid-all tfoot>tr>td.tableblock{border-width:1px 1px 0 0}
table.grid-cols th.tableblock,table.grid-cols td.tableblock{border-width:0 1px 0 0}
table.grid-all *>tr>.tableblock:last-child,table.grid-cols *>tr>.tableblock:last-child{border-right-width:0}
table.grid-rows th.tableblock,table.grid-rows td.tableblock{border-width:0 0 1px 0}
table.grid-all tbody>tr:last-child>th.tableblock,table.grid-all tbody>tr:last-child>td.tableblock,table.grid-all thead:last-child>tr>th.tableblock,table.grid-rows tbody>tr:last-child>th.tableblock,table.grid-rows tbody>tr:last-child>td.tableblock,table.grid-rows thead:last-child>tr>th.tableblock{border-bottom-width:0}
table.grid-rows tfoot>tr>th.tableblock,table.grid-rows tfoot>tr>td.tableblock{border-width:1px 0 0 0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot{border-width:1px 0}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
td>div.verse{white-space:pre}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.unstyled,ol.unnumbered,ul.checklist,ul.none{list-style-type:none}
ul.unstyled,ol.unnumbered,ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1em;font-size:.85em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{width:1em;position:relative;top:1px}
ul.inline{margin:0 auto .625em auto;margin-left:-1.375em;margin-right:0;padding:0;list-style:none;overflow:hidden}
ul.inline>li{list-style:none;float:left;margin-left:1.375em;display:block}
ul.inline>li>*{display:block}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist>table tr>td:first-of-type{padding:0 .75em;line-height:1}
.colist>table tr>td:last-of-type{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left,.imageblock[style*="float: left"]{margin:.25em .625em 1.25em 0}
.imageblock.right,.imageblock[style*="float: right"]{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em 0;border-width:1px 0 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;text-indent:-1.05em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background-color:#00fafa}
.black{color:#000}
.black-background{background-color:#000}
.blue{color:#0000bf}
.blue-background{background-color:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background-color:#fa00fa}
.gray{color:#606060}
.gray-background{background-color:#7d7d7d}
.green{color:#006000}
.green-background{background-color:#007d00}
.lime{color:#00bf00}
.lime-background{background-color:#00fa00}
.maroon{color:#600000}
.maroon-background{background-color:#7d0000}
.navy{color:#000060}
.navy-background{background-color:#00007d}
.olive{color:#606000}
.olive-background{background-color:#7d7d00}
.purple{color:#600060}
.purple-background{background-color:#7d007d}
.red{color:#bf0000}
.red-background{background-color:#fa0000}
.silver{color:#909090}
.silver-background{background-color:#bcbcbc}
.teal{color:#006060}
.teal-background{background-color:#007d7d}
.white{color:#bfbfbf}
.white-background{background-color:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background-color:#fafa00}
span.icon>.fa{cursor:default}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note:before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip:before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning:before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution:before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important:before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background-color:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]:after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background-color:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@media print{@page{margin:1.25cm .75cm}
*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare):after,a[href^="https:"]:not(.bare):after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]:after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #ddddd8!important;padding-bottom:0!important}
.sect1{padding-bottom:0!important}
.sect1+.sect1{border:0!important}
#header>h1:first-child{margin-top:1.25rem}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em 0}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span:before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]:before{display:block}
#footer{background:none!important;padding:0 .9375em}
#footer-text{color:rgba(0,0,0,.6)!important;font-size:.9em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
</style>
</head>
<body class="article">
<div id="header">
</div>
<div id="content">
<div class="sect1">
<h2 id="_oauth_token_revocation_on_big_ip_devices_using_a_big_iq_centralized_management_system">OAuth Token Revocation on BIG-IP devices using a BIG-IQ Centralized Management system</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_overview">Overview</h3>
<div class="paragraph">
<p>You can use the REST API to revoke OAuth Tokens on one or more BIG-IP devices on a BIG-IQ Centralized Management system.</p>
</div>
</div>
<div class="sect2">
<h3 id="_prerequisites">Prerequisites</h3>
<div class="paragraph">
<p>You should be sure the following prerequisites have been met.
- All BIG-IP devices are operational and have the services provisioned that will be managed by the BIG-IQ Centralized Management system.
- The BIG-IQ Centralized Management system is operational, has completed the setup wizard, and completed any other needed configuration.
- Trust has been established between the BIG-IP device and the BIG-IQ Centralized Management system.
- APM Service is discovered for the BIG-IP device in BIG-IQ Centralized Management system.
- APM Configuration is imported, if access group name needs to be used as input criteria.
- To revoke oauth tokens using device reference of an BIG-IP device that is part of cluster, except for revoke list of tokens action, it is recommended to use cluster name instead of device references. If you have to use device reference, then  device reference of the ACTIVE device of cluster should be used for the token revocation API to work. If device reference of PASSIVE device is passed as input, the task may finish, but API will not be able to send additional warning or error in the response. ACTIVE device has to only manually identified by the user, as currently there is no way to determine this information through API and BIG-IQ UI.
- When performing the tasks in this example, review the listed IP addresses and change them as appropriate for your environment. For example, if you are not running  the script directly on the BIG-IQ system, you should change localhost to be the IP address of the BIG-IQ Centralized Management system.</p>
</div>
</div>
<div class="sect2">
<h3 id="_description">Description</h3>
<div class="paragraph">
<p>You use the following process to Revoke OAuth Tokens on BIG-IP devices on the BIG-IQ Centralized Management system.
1. Perform a GET method on the machineid-resolver URI to determine the current state of the BIG-IP device and get other inputs parameters to revoke oauth tokens.
2. Perform a POST method on the revoke oauth tokens task URI to revoke oauth tokens.
3. Monitor the task using GET methods until the status has reached a value of FINISHED, FAILED or CANCELLED. When the GET method status value is FINISHED and the currentStep value is DONE, the revoke oauth tokens is completed.</p>
</div>
</div>
<div class="sect2">
<h3 id="_example_for_oauth_token_revocation">Example for OAuth Token Revocation</h3>
<div class="paragraph">
<p>In the following example:
- The BIG-IP device address is 10.255.4.124. You substitute your BIG-IP device’s address for this address when you implement the example. If the device that you want to use is part of cluster, refer to prerequisites section for more details.
- The Access Config Group names are TestGroup,TestGroup1,TestGroup2. You substitute your access group name when you implement the example.
- The BIG-IP cluster name is BlueCluster,RedCluster. You substitute your cluster name when you implement the example.</p>
</div>
<div class="sect3">
<h4 id="_1_determine_the_current_status_of_the_big_ip_device_and_other_input_parameters_on_the_big_iq_centralized_management_system">1. Determine the current status of the BIG-IP device and other input parameters on the BIG-IQ Centralized Management system.</h4>
<div class="paragraph">
<p>Perform a GET method on the machineid-resolver URI to determine if the BIG-IP device already has trust established. You will want to use the filter option to narrow the returned JSON information to just this particular BIG-IP device. If the value of the items element is not an empty list [], then the trust has already been established. If the value of the items element is an empty list, you must establish trust before you can attempt to discover the device.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>GET: https://&lt;mgmtip&gt;/mgmt/cm/system/machineid-resolver?$filter=('address'+eq+'10.255.4.124')</code></pre>
</div>
</div>
<div class="paragraph">
<p>To filter more than one address, you can use below kind of filter with multiple checks on the URI</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>$filter=('address' eq '10.255.4.1' or 'address' eq '10.255.4.2' )</code></pre>
</div>
</div>
<div class="paragraph">
<p>The following is the response JSON from the GET method:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>{
    "uuid": "98901455-6384-47cd-bc41-00a39dfe338f",
    "deviceUri": "https://10.192.123.69:443",
    "machineId": "98901455-6384-47cd-bc41-00a39dfe338f",
    "state": "ACTIVE",
	"address": "10.255.4.124",
	"httpsPort": 443,
	"hostname": "bluebigipveha1.labf.com",
    "version": "12.1.0",
    "product": "BIG-IP",
    "edition": "Final",
    "build": "0.0.1354",
    "restFrameworkVersion": "12.1.0-0.0.1354",
    "managementAddress": "10.192.123.69",
    "mcpDeviceName": "/Common/bluebigipveha1",
    "trustDomainGuid": "5189f81c-96be-4449-b4110050560102e7",
    "properties": {
        "cm:gui:module": [
            "Access",
            "BigIPDevice",
            "adc"
        ],
        "modules": [
            "All Access managed BIG-IP devices"
        ],
        "cm-adccore-allbigipDevices": {
            "supportsBadgerEnhs": true,
            "supportsRest": true,
            "supportsAlpineEnhs": true,
            "lastDiscoveredDateTime": "2016-11-10T19:06:14.804Z",
            "imported": true,
            "clusterName": "BlueCluster",
            "restrictsPortTranslationStatelessVirtual": true,
            "requiresDhcpProfileInDhcpVirtualServer": true,
            "importStatus": "FINISHED",
            "discoveryStatus": "FINISHED",
            "importedDateTime": "2016-11-10T19:14:39.003Z",
            "lastUserDiscoveredDateTime": "2016-11-10T19:06:14.804Z",
            "modules": [
                "All Access managed BIG-IP devices"
            ],
            "cm:gui:module": [
                "Access",
                "BigIPDevice",
                "adc"
            ],
            "discovered": true,
            "supportsClassification": true
        },
        "cm-bigip-allBigIpDevices": {
            "shared:resolver:device-groups:discoverer": "d5d58cdd-f5b5-4379-9d12-08e28253a16f",
            "cm:gui:module": [
                "BigIPDevice"
            ],
            "modules": []
        },
        "cm-bigip-allDevices": {
            "shared:resolver:device-groups:discoverer": "d5d58cdd-f5b5-4379-9d12-08e28253a16f",
            "cm:gui:module": [],
            "modules": []
        },
        "cm-access-allBigIpDevices": {
            "discovered": true,
            "imported": true,
            "clusterName": "BlueCluster",
            "supportsRest": true,
            "supports_13_0_Enhs": false,
            "supportsCascadeEnhs": true,
            "lastDiscoveredDateTime": "2016-11-10T19:15:18.963Z",
            "lastUserDiscoveredDateTime": "2016-11-10T19:15:18.963Z",
            "cm:access:access-group-name": "TestGroup",
            "cm:access:source-device": true,
            "cm:access:access-group-device-link": "https://localhost/mgmt/shared/resolver/device-groups/CA/devices/98901455-6384-47cd-bc41-00a39dfe338f",
            "cm:access:import-version": "12.1.0",
            "cm:access:access-group-link": "https://localhost/mgmt/shared/resolver/device-groups/TestGroup",
            "importedDateTime": "2016-11-10T19:17:04.459Z",
            "discoveryStatus": "FINISHED",
            "importStatus": "FINISHED",
            "cm:gui:module": [
                "Access"
            ],
            "modules": [
                "All Access managed BIG-IP devices"
            ]
        },
        "cm-bigip-cluster_BlueCluster": {
            "clusterName": "BlueCluster",
            "shared:resolver:device-groups:discoverer": "da4a4ca7-19f9-4a31-a1c2-004d5557ff10",
            "cm:gui:module": [],
            "modules": []
        },
        "cm-access-allDevices": {
    		"clusterName": "BlueCluster",
            "cm:gui:module": [
                "Access"
            ],
            "modules": [
                "All Access managed BIG-IP devices"
            ]
        },
        "TestGroup": {
            "discovered": true,
            "imported": false,
            "supportsRest": true,
            "supports_13_0_Enhs": false,
            "supportsCascadeEnhs": true,
            "discoveryStatus": "FINISHED",
            "lastDiscoveredDateTime": "2016-10-26T04:15:56.356Z",
            "lastUserDiscoveredDateTime": "2016-10-26T04:15:56.356Z",
            "cm:access:all-bigip-device-link": "https://localhost/mgmt/shared/resolver/device-groups/cm-access-allBigIpDevices/devices/98901455-6384-47cd-bc41-00a39dfe338f",
            "cm:access:import-version": "12.1.0",
            "cm:access:source-device": true,
            "cm:gui:module": [
                "Access"
            ],
            "modules": [
                "All Access managed BIG-IP devices"
            ]
        },
        "cm-adccore-allDevices": {
            "cm:gui:module": [],
            "modules": []
        }
    },
    "isClustered": false,
    "isVirtual": true,
    "isLicenseExpired": false,
    "slots": [
        {
            "volume": "HD1.1",
            "product": "BIG-IP",
            "version": "12.1.0",
            "build": "0.0.1354",
            "isActive": true
        },
        {
            "volume": "HD1.3",
            "product": "BIG-IP",
            "version": "12.0.0",
            "build": "0.0.606",
            "isActive": false
        }
    ],
    "generation": 67,
    "lastUpdateMicros": 1479332833705505,
    "kind": "shared:resolver:device-groups:restdeviceresolverdevicestate",
    "selfLink": "https://localhost/mgmt/cm/system/machineid-resolver/98901455-6384-47cd-bc41-00a39dfe338f"
}</code></pre>
</div>
</div>
<div class="sect4">
<h5 id="_1_1_check_if_trust_is_established">1.1. Check if Trust is established.</h5>
<div class="paragraph">
<p>In the response to the GET method, you see trust is established since the following data is found in the list:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>"properties": {
    "cm:gui:module": [
        "BigIPDevice"
    ]</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_1_2_check_if_access_discovery_is_done">1.2. Check if Access Discovery is done.</h5>
<div class="paragraph">
<p>In the response to the GET method, if the Access value is found in the list, the Access Policy Manager service has already been discovered; the adc value represents the Local Traffic service and this must be found in order to continue with the Access Policy Manager discovery workflow.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>"properties": {
    "cm:gui:module": [
        "BigIPDevice",
        "adc",
        "Access"
    ]</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_1_3_check_if_access_configuration_is_imported">1.3. Check if Access Configuration is Imported</h5>
<div class="paragraph">
<p>In the response to the GET method, you see access import is done if value of imported property is true in cm-access-allBigIpDevices:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>"properties": {
    "cm-access-allBigIpDevices": {
        "imported": true
    }
}</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_1_4_find_access_config_group_name_of_the_device">1.4. Find Access Config Group Name of the device:</h5>
<div class="paragraph">
<p>This is applicable only if the device is imported. In the response to the GET method, value of cm:access:access-group-name property contains the access group name. This property is present in cm-access-allBigIpDevices, which is present inside properties field value. In this example, access group name is TestGroup:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>"properties": {
    "cm-access-allBigIpDevices": {
        "cm:access:access-group-name": "TestGroup"
    }
}</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_1_5_find_cluster_name_of_an_device_that_is_part_of_cluster">1.5. Find Cluster Name of an device that is part of Cluster:</h5>
<div class="paragraph">
<p>This is applicable only if the device is discovered and part of cluster. To token revocation in an device which is part of cluster, it is recommended to use cluster name instead of device reference.</p>
</div>
<div class="paragraph">
<p>In the response to the GET method, value of clusterName property contains the cluster name. This property is present in cm-access-allBigIpDevices, which is present inside properties field value. In this example, cluster name is BlueCluster:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>"properties": {
    "cm-access-allBigIpDevices": {
        "clusterName": "BlueCluster"
    }
}</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_1_6_find_machine_id_and_device_reference_of_an_device">1.6. Find machine id and device reference of an device:</h5>
<div class="paragraph">
<p>In the response to the GET method, value of machineId and selfLink is the machine id and device reference of the device.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>{
	"selfLink": "https://localhost/mgmt/cm/system/machineid-resolver/98901455-6384-47cd-bc41-00a39dfe338f"
}</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_1_7_list_all_client_id_s_of_oauth_client_app_for_given_machine_id">1.7. List All Client Id&#8217;s of OAuth Client App for given machine id:</h5>
<div class="paragraph">
<p>To get list of all oauth client app info containing client id, perform following GET on oauth client app API with filter to retrieve only client apps for the machine id of the given device (refer to section 1.6 to get machine id of an device). In the response, clientId refers to client id of the oauth client app.</p>
</div>
<div class="paragraph">
<p>When using below URI, replace 26a65814-a2f4-4e91-9853-13e2e14d921a with your machine id value. $select query could be modified to add/remove required fields in the response.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>GET: https://&lt;mgmtip&gt;/mgmt/cm/access/working-config/apm/oauth/oauth-client-app?$filter='lsoDeviceReference/machineId' eq '26a65814-a2f4-4e91-9853-13e2e14d921a'&amp;$select=appName,name,clientId</code></pre>
</div>
</div>
<div class="paragraph">
<p>The following is the response JSON containing list of client apps from the GET method:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>{
    "selfLink": "https://localhost/mgmt/cm/access/working-config/apm/oauth/oauth-client-app",
    "totalItems": 2,
    "items": [
        {
            "appName": "Shutterfly",
            "clientId": "89923892aed8eb142a8871058da9005056b09ae221df6a57",
            "name": "shutterfly-client"
        },
        {
            "appName": "Maps",
            "clientId": "5b3e8851b1d872feed3086484141005056b09ae2d5277c57",
            "name": "maps-client"
        }
    ],
    "generation": 7,
    "kind": "cm:access:working-config:apm:oauth:oauth-client-app:oauthclientappcollectionstate",
    "lastUpdateMicros": 1478208069057233
}</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_1_8_list_all_access_config_groups">1.8. List All Access Config Groups:</h5>
<div class="paragraph">
<p>To get list of all access config group name, perform following GET on device groups resolver API with filter to retrieve only access config group. In the response, groupName refers to access config group name.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>GET: https://&lt;mgmtip&gt;/mgmt/shared/resolver/device-groups/?$filter='properties/cm:access:access_group'+eq+'true'&amp;$select=groupName,displayName</code></pre>
</div>
</div>
<div class="paragraph">
<p>The following is the response JSON from the GET method:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>{
    "selfLink": "https://localhost/mgmt/shared/resolver/device-groups",
    "totalItems": 1,
    "items": [
        {
            "displayName": "TestGroup",
            "groupName": "TestGroup"
        },
        {
            "displayName": "TestGroup2",
            "groupName": "TestGroup2"
        }
    ],
    "generation": 23,
    "kind": "shared:resolver:device-groups:devicegroupcollectionstate",
    "lastUpdateMicros": 1479942921954266
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Repeat steps in Section 1.1 to 1.7 for the all the devices you want to use. The device reference, access group name and cluster name from the response JSON in this step will be used in Step 2.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_2_perform_a_post_method_on_the_revoke_oauth_tokens_task_uri_to_revoke_oauth_tokens">2. Perform a POST method on the revoke oauth tokens task URI to revoke oauth tokens.</h4>
<div class="paragraph">
<p>Different ways to revoke oauth tokens is listed below.</p>
</div>
<div class="paragraph">
<p>Use a POST method with the following JSON on the revoke oauth tokens task to start the task.</p>
</div>
<div class="paragraph">
<p>Parameter | Description | Required
----------------------------------------| --------------------------------------------------
action | action value has to be REVOKE_TOKEN_FOR_USER, REVOKE_TOKEN_FOR_CLIENT_ID or REVOKE_LIST_OF_TOKENS | Yes
deviceReferences | list of device references |
accessGroupNames | list of access config group names |
clusterNames | list of cluster names |
userName | Case sensitive field name. user name of user whose tokens needs to be revoked.| Only if action is REVOKE_TOKEN_FOR_USER
perDeviceOauthIds | list of one or more oauth id info object, with each object containing device reference and list of pair of id(oauth id) and clientId| Only if action is REVOKE_LIST_OF_TOKENS
status | As part of response, status denotes the status of the task. It can be STARTED, FINISHED, FAILED, CANCELLED or CANCEL_REQUESTED |
result | As part of response, result denotes whether oauth tokens revocation action was COMPLETE or FAILED |
resultDetails | As part of response, on some cases during failure, this is populated with list of device level failure info containing oauth id info |
errorMessage | This can contain error message during failure |</p>
</div>
<div class="sect4">
<h5 id="_2_1_revoke_all_oauth_tokens_for_a_user">2.1 Revoke All OAuth Tokens for a User</h5>
<div class="paragraph">
<p>You can revoke all oauth tokens of a user on one or more BIG-IP devices that matches one or more input criteria specified below.</p>
</div>
<div class="sect5">
<h6 id="_2_1_1_revoke_all_oauth_tokens_for_a_user_in_big_ip_devices_matching_one_or_more_device_reference">2.1.1 Revoke All OAuth Tokens for a User in BIG-IP devices matching one or more Device Reference</h6>
<div class="paragraph">
<p>To use this action, you need to manually determine the username of the user.</p>
</div>
<div class="paragraph">
<p>Note: To revoke oauth tokens in an device that is part of cluster, then it is recommended to use cluster name instead of device references. Refer to prerequisites section for more details.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>POST:  https://&lt;mgmtip&gt;/mgmt/cm/access/tasks/revoke-tokens
{
   "action":"REVOKE_TOKEN_FOR_USER",
   "userName":"user1",
   "deviceReferences":[
      {
         "link":"https://localhost/mgmt/cm/system/machineid-resolver/901695c8-f405-489f-9996-54f7b21da642"
      }
   ]
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The following is the response JSON from the previous POST method:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>{
  "action": "REVOKE_TOKEN_FOR_USER",
  "currentStep": "RESOLVE_DEVICES",
  "deviceReferences": [
    {
      "link":"https://localhost/mgmt/cm/system/machineid-resolver/901695c8-f405-489f-9996-54f7b21da642"
    }
  ],
  "generation": 7,
  "id": "5b688828-2279-40b0-9dc1-eccdebb6837f",
  "identityReferences": [
    {
      "link": "https://localhost/mgmt/shared/authz/users/admin"
    }
  ],
  "kind": "cm:access:tasks:revoke-tokens:oauthrevoketokentaskitemstate",
  "lastUpdateMicros": 1473733104269292,
  "ownerMachineId": "fd870e82-842d-4194-a882-71cb92e2a5c3",
  "selfLink": "https://localhost/mgmt/cm/access/tasks/revoke-tokens/5b688828-2279-40b0-9dc1-eccdebb6837f",
  "startDateTime": "2016-09-12T19:18:23.451-0700",
  "status": "STARTED",
  "userName": "user1",
  "userReference": {
    "link": "https://localhost/mgmt/shared/authz/users/admin"
  },
  "username": "admin"
}</code></pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="_2_1_2_revoke_all_oauth_tokens_for_a_user_in_big_ip_devices_matching_one_or_more_access_config_groups">2.1.2 Revoke All OAuth Tokens for a User in BIG-IP devices matching one or more Access config groups</h6>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>POST:  https://&lt;mgmtip&gt;/mgmt/cm/access/tasks/revoke-tokens
{
   "action":"REVOKE_TOKEN_FOR_USER",
   "userName":"user1",
   "accessGroupNames":[
      "TestGroup1",
      "TestGroup2"
   ]
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The following is the response JSON from the previous POST method:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>{
  "action": "REVOKE_TOKEN_FOR_USER",
  "currentStep": "RESOLVE_DEVICES",
   "accessGroupNames":[
      "TestGroup1",
      "TestGroup2"
   ],
  "generation": 7,
  "id": "5b688828-2279-40b0-9dc1-eccdebb6837f",
  "identityReferences": [
    {
      "link": "https://localhost/mgmt/shared/authz/users/admin"
    }
  ],
  "kind": "cm:access:tasks:revoke-tokens:oauthrevoketokentaskitemstate",
  "lastUpdateMicros": 1473733104269292,
  "ownerMachineId": "fd870e82-842d-4194-a882-71cb92e2a5c3",
  "selfLink": "https://localhost/mgmt/cm/access/tasks/revoke-tokens/5b688828-2279-40b0-9dc1-eccdebb6837f",
  "startDateTime": "2016-09-12T19:18:23.451-0700",
  "status": "STARTED",
  "userName": "user1",
  "userReference": {
    "link": "https://localhost/mgmt/shared/authz/users/admin"
  },
  "username": "admin"
}</code></pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="_2_1_3_revoke_all_oauth_tokens_for_a_user_in_big_ip_devices_matching_one_or_more_big_ip_clusters">2.1.3 Revoke All OAuth Tokens for a User in BIG-IP devices matching one or more BIG-IP clusters</h6>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>POST:  https://&lt;mgmtip&gt;/mgmt/cm/access/tasks/revoke-tokens
{
   "action":"REVOKE_TOKEN_FOR_USER",
   "userName":"user1",
   "clusterNames":[
      "BlueCluster",
      "RedCluster"
   ]
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The following is the response JSON from the previous POST method:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>{
  "action": "REVOKE_TOKEN_FOR_USER",
  "currentStep": "RESOLVE_DEVICES",
   "clusterNames":[
      "BlueCluster",
      "RedCluster"
   ],
  "generation": 7,
  "id": "5b688828-2279-40b0-9dc1-eccdebb6837f",
  "identityReferences": [
    {
      "link": "https://localhost/mgmt/shared/authz/users/admin"
    }
  ],
  "kind": "cm:access:tasks:revoke-tokens:oauthrevoketokentaskitemstate",
  "lastUpdateMicros": 1473733104269292,
  "ownerMachineId": "fd870e82-842d-4194-a882-71cb92e2a5c3",
  "selfLink": "https://localhost/mgmt/cm/access/tasks/revoke-tokens/5b688828-2279-40b0-9dc1-eccdebb6837f",
  "startDateTime": "2016-09-12T19:18:23.451-0700",
  "status": "STARTED",
  "userName": "user1",
  "userReference": {
    "link": "https://localhost/mgmt/shared/authz/users/admin"
  },
  "username": "admin"
}</code></pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="_2_1_4_revoke_all_oauth_tokens_for_a_user_in_big_ip_devices_matching_one_or_more_big_ip_clusters_one_or_more_access_config_groups_and_one_or_more_device_references">2.1.4 Revoke All OAuth Tokens for a User in BIG-IP devices matching one or more BIG-IP clusters, one or more Access config groups and  one or more device references</h6>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>POST:  https://&lt;mgmtip&gt;/mgmt/cm/access/tasks/revoke-tokens
{
   "action":"REVOKE_TOKEN_FOR_USER",
   "userName":"user1",
   "accessGroupNames":[
      "TestGroup1",
      "TestGroup2"
   ],
   "clusterNames":[
      "BlueCluster",
      "RedCluster"
   ],
   "deviceReferences": [
      {
         "link":"https://localhost/mgmt/cm/system/machineid-resolver/901695c8-f405-489f-9996-54f7b21da642"
      },
      {
         "link":"https://localhost/mgmt/cm/system/machineid-resolver/3f320100-2177-42e0-8a46-2e33cd3366d"
      }
  ]
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The following is the response JSON from the previous POST method:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>{
  "action": "REVOKE_TOKEN_FOR_USER",
  "currentStep": "RESOLVE_DEVICES",
   "accessGroupNames":[
      "TestGroup1",
      "TestGroup2"
   ],
   "clusterNames":[
      "BlueCluster",
      "RedCluster"
   ],
   "deviceReferences": [
      {
         "link":"https://localhost/mgmt/cm/system/machineid-resolver/901695c8-f405-489f-9996-54f7b21da642"
      },
      {
         "link":"https://localhost/mgmt/cm/system/machineid-resolver/3f320100-2177-42e0-8a46-2e33cd3366d"
      }
  ],
  "generation": 7,
  "id": "5b688828-2279-40b0-9dc1-eccdebb6837f",
  "identityReferences": [
    {
      "link": "https://localhost/mgmt/shared/authz/users/admin"
    }
  ],
  "kind": "cm:access:tasks:revoke-tokens:oauthrevoketokentaskitemstate",
  "lastUpdateMicros": 1473733104269292,
  "ownerMachineId": "fd870e82-842d-4194-a882-71cb92e2a5c3",
  "selfLink": "https://localhost/mgmt/cm/access/tasks/revoke-tokens/5b688828-2279-40b0-9dc1-eccdebb6837f",
  "startDateTime": "2016-09-12T19:18:23.451-0700",
  "userName": "user1",
  "userReference": {
    "link": "https://localhost/mgmt/shared/authz/users/admin"
  },
  "username": "admin"
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_2_2_revoke_all_oauth_tokens_for_given_client_id">2.2 Revoke All OAuth Tokens for given Client Id</h5>
<div class="paragraph">
<p>You can revoke all oauth tokens for given client id in one or more BIG-IP devices that matches one or more input criteria specified below.</p>
</div>
<div class="sect5">
<h6 id="_2_2_1_revoke_all_oauth_tokens_for_given_client_id_in_big_ip_devices_matching_one_or_more_device_reference">2.2.1 Revoke All OAuth Tokens for given Client Id in BIG-IP devices matching one or more Device Reference</h6>
<div class="paragraph">
<p>Mostly it suffices to provide one device reference as input, as Client id is unique per device for an oauth client app, so its not common to have same client id in more than one device.</p>
</div>
<div class="paragraph">
<p>Note: To revoke oauth tokens in an device that is part of cluster, then it is recommended to use cluster name instead of device reference. Refer to example in next section. If that is not possible then device reference of ACTIVE device of cluster should be used for the API to work. Refer to prerequisites section for more details.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>POST:  https://&lt;mgmtip&gt;/mgmt/cm/access/tasks/revoke-tokens
{
   "action":"REVOKE_TOKEN_FOR_CLIENT_ID",
   "clientId":"e3f3e7204d00d88ad92cbb970dd5005056b093adfa6d7457",
   "deviceReferences":[
      {
         "link":"https://localhost/mgmt/cm/system/machineid-resolver/901695c8-f405-489f-9996-54f7b21da642"
      }
   ]
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The following is the response JSON from the previous POST method:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>{
   "action":"REVOKE_TOKEN_FOR_CLIENT_ID",
   "clientId":"e3f3e7204d00d88ad92cbb970dd5005056b093adfa6d7457",
  "currentStep": "RESOLVE_DEVICES",
  "deviceReferences": [
    {
      "link":"https://localhost/mgmt/cm/system/machineid-resolver/901695c8-f405-489f-9996-54f7b21da642"
    }
  ],
  "generation": 7,
  "id": "5b688828-2279-40b0-9dc1-eccdebb6837f",
  "identityReferences": [
    {
      "link": "https://localhost/mgmt/shared/authz/users/admin"
    }
  ],
  "kind": "cm:access:tasks:revoke-tokens:oauthrevoketokentaskitemstate",
  "lastUpdateMicros": 1473733104269292,
  "ownerMachineId": "fd870e82-842d-4194-a882-71cb92e2a5c3",
  "selfLink": "https://localhost/mgmt/cm/access/tasks/revoke-tokens/5b688828-2279-40b0-9dc1-eccdebb6837f",
  "startDateTime": "2016-09-12T19:18:23.451-0700",
  "status": "STARTED",
  "userReference": {
    "link": "https://localhost/mgmt/shared/authz/users/admin"
  },
  "username": "admin"
}</code></pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="_2_2_2_revoke_all_oauth_tokens_for_given_client_id_in_big_ip_devices_matching_one_or_more_access_config_groups">2.2.2 Revoke All OAuth Tokens for given Client Id in BIG-IP devices matching one or more Access config groups</h6>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>POST:  https://&lt;mgmtip&gt;/mgmt/cm/access/tasks/revoke-tokens
{
   "action":"REVOKE_TOKEN_FOR_CLIENT_ID",
   "clientId":"e3f3e7204d00d88ad92cbb970dd5005056b093adfa6d7457",
   "accessGroupNames":[
      "TestGroup1",
      "TestGroup2"
   ]
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The following is the response JSON from the previous POST method:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>{
   "action":"REVOKE_TOKEN_FOR_CLIENT_ID",
   "clientId":"e3f3e7204d00d88ad92cbb970dd5005056b093adfa6d7457",
   "accessGroupNames":[
      "TestGroup1",
      "TestGroup2"
   ],
  "currentStep": "RESOLVE_DEVICES",
  "generation": 7,
  "id": "5b688828-2279-40b0-9dc1-eccdebb6837f",
  "identityReferences": [
    {
      "link": "https://localhost/mgmt/shared/authz/users/admin"
    }
  ],
  "kind": "cm:access:tasks:revoke-tokens:oauthrevoketokentaskitemstate",
  "lastUpdateMicros": 1473733104269292,
  "ownerMachineId": "fd870e82-842d-4194-a882-71cb92e2a5c3",
  "selfLink": "https://localhost/mgmt/cm/access/tasks/revoke-tokens/5b688828-2279-40b0-9dc1-eccdebb6837f",
  "startDateTime": "2016-09-12T19:18:23.451-0700",
  "status": "STARTED",
  "userReference": {
    "link": "https://localhost/mgmt/shared/authz/users/admin"
  },
  "username": "admin"
}</code></pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="_2_2_3_revoke_all_oauth_tokens_for_given_client_id_in_one_or_more_big_ip_clusters">2.2.3 Revoke All OAuth Tokens for given Client Id in one or more BIG-IP clusters</h6>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>POST:  https://&lt;mgmtip&gt;/mgmt/cm/access/tasks/revoke-tokens
{
   "action":"REVOKE_TOKEN_FOR_CLIENT_ID",
   "clientId":"e3f3e7204d00d88ad92cbb970dd5005056b093adfa6d7457",
   "clusterNames":[
      "BlueCluster",
      "RedCluster"
   ]
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The following is the response JSON from the previous POST method:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>{
   "action":"REVOKE_TOKEN_FOR_CLIENT_ID",
   "clientId":"e3f3e7204d00d88ad92cbb970dd5005056b093adfa6d7457",
   "clusterNames":[
      "BlueCluster",
      "RedCluster"
   ],
  "currentStep": "RESOLVE_DEVICES",
  "generation": 7,
  "id": "5b688828-2279-40b0-9dc1-eccdebb6837f",
  "identityReferences": [
    {
      "link": "https://localhost/mgmt/shared/authz/users/admin"
    }
  ],
  "kind": "cm:access:tasks:revoke-tokens:oauthrevoketokentaskitemstate",
  "lastUpdateMicros": 1473733104269292,
  "ownerMachineId": "fd870e82-842d-4194-a882-71cb92e2a5c3",
  "selfLink": "https://localhost/mgmt/cm/access/tasks/revoke-tokens/5b688828-2279-40b0-9dc1-eccdebb6837f",
  "startDateTime": "2016-09-12T19:18:23.451-0700",
  "status": "STARTED",
  "userReference": {
    "link": "https://localhost/mgmt/shared/authz/users/admin"
  },
  "username": "admin"
}</code></pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="_2_2_4_revoke_all_oauth_tokens_for_given_client_id_in_big_ip_devices_matching_one_or_more_big_ip_clusters_one_or_more_access_config_groups_and_one_or_more_device_references">2.2.4 Revoke All OAuth Tokens for given Client Id in BIG-IP devices matching one or more BIG-IP clusters, one or more Access config groups and  one or more device references</h6>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>POST:  https://&lt;mgmtip&gt;/mgmt/cm/access/tasks/revoke-tokens
{
   "action":"REVOKE_TOKEN_FOR_CLIENT_ID",
   "clientId":"e3f3e7204d00d88ad92cbb970dd5005056b093adfa6d7457",
   "accessGroupNames":[
      "TestGroup1",
      "TestGroup2"
   ],
   "clusterNames":[
      "BlueCluster",
      "RedCluster"
   ],
   "deviceReferences": [
      {
         "link":"https://localhost/mgmt/cm/system/machineid-resolver/901695c8-f405-489f-9996-54f7b21da642"
      },
      {
         "link":"https://localhost/mgmt/cm/system/machineid-resolver/3f320100-2177-42e0-8a46-2e33cd3366d"
      }
  ]
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The following is the response JSON from the previous POST method:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>{
   "action":"REVOKE_TOKEN_FOR_CLIENT_ID",
   "clientId":"e3f3e7204d00d88ad92cbb970dd5005056b093adfa6d7457",
   "accessGroupNames":[
      "TestGroup1",
      "TestGroup2"
   ],
   "clusterNames":[
      "BlueCluster",
      "RedCluster"
   ],
   "deviceReferences": [
      {
         "link":"https://localhost/mgmt/cm/system/machineid-resolver/901695c8-f405-489f-9996-54f7b21da642"
      },
      {
         "link":"https://localhost/mgmt/cm/system/machineid-resolver/3f320100-2177-42e0-8a46-2e33cd3366d"
      }
  ],
  "currentStep": "RESOLVE_DEVICES",
  "generation": 7,
  "id": "5b688828-2279-40b0-9dc1-eccdebb6837f",
  "identityReferences": [
    {
      "link": "https://localhost/mgmt/shared/authz/users/admin"
    }
  ],
  "kind": "cm:access:tasks:revoke-tokens:oauthrevoketokentaskitemstate",
  "lastUpdateMicros": 1473733104269292,
  "ownerMachineId": "fd870e82-842d-4194-a882-71cb92e2a5c3",
  "selfLink": "https://localhost/mgmt/cm/access/tasks/revoke-tokens/5b688828-2279-40b0-9dc1-eccdebb6837f",
  "startDateTime": "2016-09-12T19:18:23.451-0700",
  "status": "STARTED",
  "userReference": {
    "link": "https://localhost/mgmt/shared/authz/users/admin"
  },
  "username": "admin"
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_2_3_revoke_list_of_oauth_tokens_in_big_ip_devices_for_one_or_more_device_reference">2.3 Revoke List of OAuth Tokens in BIG-IP devices for one or more Device Reference</h5>
<div class="paragraph">
<p>Note:
* If the input device reference is part of cluster, then device reference of ACTIVE device of cluster should be used in this action, for the API to work. If device reference of PASSIVE device is passed as input, the task may finish, but API will not be able to send additional warning or error in the response. Refer to prerequisites section for more details.
* OAuth id&#8217;s that has to be revoked, need to be manually determined, currently there is no API support to list session information. In BIG-IQ UI, token information can be found in Monitoring tab under Dashboards &amp; Reports&#8594;Access&#8594;OAuth&#8594;Tokens. If OAuth Id column is not visible, it needs to be selected in Grid Settings on top left most corner of the tokens table.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>POST:  https://&lt;mgmtip&gt;/mgmt/cm/access/tasks/revoke-tokens
{
   "action":"REVOKE_LIST_OF_TOKENS",
   "perDeviceOauthIds": [
    {
      "oauthIds": [
        {
          "id": "da6d57ffab9decbe9d75b7fdd4440ad43bedc7a475f3105b",
          "clientId": "e3f3e7204d00d88ad92cbb970dd5005056b093adfa6d7457"
        },
        {
          "id": "0df998ae62ace6fb6a82bb745b8586e7306afb94e3ca146a",
          "clientId": "e3f3e7204d00d88ad92cbb970dd5005056b093adfa6d7457"
        }
      ],
      "deviceReference": {
        "link":"https://localhost/mgmt/cm/system/machineid-resolver/901695c8-f405-489f-9996-54f7b21da642"
      }
    },
    {
      "oauthIds": [
        {
          "id": "e3f3e7204d00d88ad92cbb970dd5005056b093adfa6d7457",
          "clientId": "bb745b8586e7306afb94"
        },
        {
          "id": "8586e7306afb8586e7306afb8586e7306afb",
          "clientId": "8ad92cbb970dd500"
        }
      ],
      "deviceReference": {
        "link":"https://localhost/mgmt/cm/system/machineid-resolver/23h4jkhk324-f405-489f-kj3434-98234"
      }
    }
  ]
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The following is the response JSON from the previous POST method:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>{
   "action":"REVOKE_LIST_OF_TOKENS",
   "perDeviceOauthIds": [
    {
      "oauthIds": [
        {
          "id": "da6d57ffab9decbe9d75b7fdd4440ad43bedc7a475f3105b",
          "clientId": "e3f3e7204d00d88ad92cbb970dd5005056b093adfa6d7457"
        },
        {
          "id": "0df998ae62ace6fb6a82bb745b8586e7306afb94e3ca146a",
          "clientId": "e3f3e7204d00d88ad92cbb970dd5005056b093adfa6d7457"
        }
      ],
      "deviceReference": {
        "link":"https://localhost/mgmt/cm/system/machineid-resolver/901695c8-f405-489f-9996-54f7b21da642"
      }
    },
    {
      "oauthIds": [
        {
          "id": "e3f3e7204d00d88ad92cbb970dd5005056b093adfa6d7457",
          "clientId": "bb745b8586e7306afb94"
        },
        {
          "id": "8586e7306afb8586e7306afb8586e7306afb",
          "clientId": "8ad92cbb970dd500"
        }
      ],
      "deviceReference": {
        "link":"https://localhost/mgmt/cm/system/machineid-resolver/23h4jkhk324-f405-489f-kj3434-98234"
      }
    }
  ],
  "currentStep": "RESOLVE_DEVICES",
  "generation": 7,
  "id": "5b688828-2279-40b0-9dc1-eccdebb6837f",
  "identityReferences": [
    {
      "link": "https://localhost/mgmt/shared/authz/users/admin"
    }
  ],
  "kind": "cm:access:tasks:revoke-tokens:oauthrevoketokentaskitemstate",
  "lastUpdateMicros": 1473733104269292,
  "ownerMachineId": "fd870e82-842d-4194-a882-71cb92e2a5c3",
  "selfLink": "https://localhost/mgmt/cm/access/tasks/revoke-tokens/5b688828-2279-40b0-9dc1-eccdebb6837f",
  "startDateTime": "2016-09-12T19:18:23.451-0700",
  "status": "STARTED",
  "userReference": {
    "link": "https://localhost/mgmt/shared/authz/users/admin"
  },
  "username": "admin"
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_3_perform_additional_get_methods_to_the_revoke_oauth_tokens_task_created_in_step_2">3. Perform additional GET methods to the revoke oauth tokens task created in Step 2.</h4>
<div class="paragraph">
<p>Perform additional GET methods on the selfLink returned from the Step 2 response JSON. Perform them in a loop until the status reaches one of the following: FINISHED, CANCELLED or FAILED. Use a select option to reduce the content of the returned JSON to a manageable amount. In addition to the status, result should have the value of COMPLETE.</p>
</div>
<div class="paragraph">
<p>For a task to be successful,response should have values of status as FINISHED and result as COMPLETE.</p>
</div>
<div class="paragraph">
<p>Note: Replace below URI with selfLink from json response or replace 5b688828-2279-40b0-9dc1-eccdebb6837f in below URI with id from json response.</p>
</div>
<div class="paragraph">
<p>To get select fields in the response use below query</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>GET: https://&lt;mgmtip&gt;/mgmt/cm/access/tasks/revoke-tokens/5b688828-2279-40b0-9dc1-eccdebb6837f?$select=status,result,errorMessage</code></pre>
</div>
</div>
<div class="paragraph">
<p>To get complete response use below query</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>GET: https://&lt;mgmtip&gt;/mgmt/cm/access/tasks/revoke-tokens/5b688828-2279-40b0-9dc1-eccdebb6837f</code></pre>
</div>
</div>
<div class="sect4">
<h5 id="_3_1_sample_of_successful_response">3.1 Sample of Successful Response</h5>
<div class="paragraph">
<p>The following is an sample successful response JSON from the GET method:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>{
  "action": "REVOKE_TOKEN_FOR_CLIENT_ID",
  "clientId": "e3f3e7204d00d88ad92cbb970dd5005056b093adfa6d7457",
  "currentStep": "DONE",
  "deviceReferences": [
    {
      "link":"https://localhost/mgmt/cm/system/machineid-resolver/901695c8-f405-489f-9996-54f7b21da642"
    }
  ],
  "endDateTime": "2016-09-12T19:18:56.027-0700",
  "generation": 7,
  "id": "9ae2bf8a-a53b-4f4e-b012-8b7c5df56a73",
  "identityReferences": [
    {
      "link": "https://localhost/mgmt/shared/authz/users/admin"
    }
  ],
  "kind": "cm:access:tasks:revoke-tokens:oauthrevoketokentaskitemstate",
  "lastUpdateMicros": 1473733136078468,
  "ownerMachineId": "fd870e82-842d-4194-a882-71cb92e2a5c3",
  "result": "COMPLETE",
  "resultDetails": [],
  "selfLink": "https://localhost/mgmt/cm/access/tasks/revoke-tokens/9ae2bf8a-a53b-4f4e-b012-8b7c5df56a73",
  "startDateTime": "2016-09-12T19:18:54.861-0700",
  "status": "FINISHED",
  "userReference": {
    "link": "https://localhost/mgmt/shared/authz/users/admin"
  },
  "username": "admin"
}</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_3_2_sample_of_failed_response">3.2 Sample of Failed Response</h5>
<div class="paragraph">
<p>The following is sample of failed task response JSON from the GET method:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>{
  "action": "REVOKE_LIST_OF_TOKENS",
  "currentStep": "REVOKE_TOKENS_FOR_STANDALONE",
  "endDateTime": "2016-09-12T19:19:26.794-0700",
  "errorMessage": "Tokens not found in index. Possibly already revoked tokens.",
  "generation": 6,
  "id": "56a6994d-06b7-4085-b93d-29c489c805c5",
  "identityReferences": [
    {
      "link": "https://localhost/mgmt/shared/authz/users/admin"
    }
  ],
  "kind": "cm:access:tasks:revoke-tokens:oauthrevoketokentaskitemstate",
  "lastUpdateMicros": 1473733166845546,
  "ownerMachineId": "fd870e82-842d-4194-a882-71cb92e2a5c3",
  "perDeviceOauthIds": [
    {
      "oauthIds": [
        {
          "id": "da6d57ffab9decbe9d75b7fdd4440ad43bedc7a475f3105b",
          "clientId": "e3f3e7204d00d88ad92cbb970dd5005056b093adfa6d7457"
        },
        {
          "id": "0df998ae62ace6fb6a82bb745b8586e7306afb94e3ca146a",
          "clientId": "e3f3e7204d00d88ad92cbb970dd5005056b093adfa6d7457"
        }
      ],
      "deviceReference": {
        "link":"https://localhost/mgmt/cm/system/machineid-resolver/901695c8-f405-489f-9996-54f7b21da642"
      }
    }
  ],
  "result": "FAILED",
  "resultDetails": [
    {
      "failedIds": [
        {
          "id": "0df998ae62ace6fb6a82bb745b8586e7306afb94e3ca146a",
          "dbInstance": "e3f3e7204d00d88ad92cbb970dd5005056b093adfa6d7457",
          "clientId": ""
        },
        {
          "id": "da6d57ffab9decbe9d75b7fdd4440ad43bedc7a475f3105b",
          "dbInstance": "e3f3e7204d00d88ad92cbb970dd5005056b093adfa6d7457",
          "clientId": ""
        }
      ],
      "deviceReference": {
        "link":"https://localhost/mgmt/cm/system/machineid-resolver/901695c8-f405-489f-9996-54f7b21da642"
      }
    }
  ],
  "selfLink": "https://localhost/mgmt/cm/access/tasks/revoke-tokens/56a6994d-06b7-4085-b93d-29c489c805c5",
  "startDateTime": "2016-09-12T19:19:26.509-0700",
  "status": "FAILED",
  "userReference": {
    "link": "https://localhost/mgmt/shared/authz/users/admin"
  },
  "username": "admin"
}</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_common_errors">Common Errors</h3>
<div class="paragraph">
<p>When an error occurs, review the BIG-IQ Centralized Management user interface for device management to determine the details of the failure. In addition to using the user interface, some error information can be determined from the REST API response JSON as shown in the following error.</p>
</div>
<div class="sect3">
<h4 id="_error_generated_when_an_incorrect_uri_is_sent_in_the_rest_request">Error generated when an incorrect URI is sent in the REST request.</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>{
  "code": 404,
  "message": "Public URI path not registered",
  "referer": "192.168.101.130",
  "restOperationId": 19541801,
  "errorStack": [
    "com.f5.rest.common.RestWorkerUriNotFoundException: Public URI path not registered",
    "at com.f5.rest.workers.ForwarderPassThroughWorker.cloneAndForwardRequest(ForwarderPassThroughWorker.java:250)",
    "at com.f5.rest.workers.ForwarderPassThroughWorker.onForward(ForwarderPassThroughWorker.java:106)",
    "at com.f5.rest.workers.ForwarderPassThroughWorker.onQuery(ForwarderPassThroughWorker.java:409)",
    "at com.f5.rest.common.RestWorker.callDerivedRestMethod(RestWorker.java:1071)",
    "at com.f5.rest.common.RestWorker.callRestMethodHandler(RestWorker.java:1040)",
    "at com.f5.rest.common.RestServer.processQueuedRequests(RestServer.java:1467)",
    "at com.f5.rest.common.RestServer.access$000(RestServer.java:53)",
    "at com.f5.rest.common.RestServer$1.run(RestServer.java:333)",
    "at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)",
    "at java.util.concurrent.FutureTask.run(FutureTask.java:262)",
    "at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:178)",
    "at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:292)",
    "at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)",
    "at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)",
    "at java.lang.Thread.run(Thread.java:745)\n"
  ],
  "kind": ":resterrorresponse"
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_task_failure_when_action_is_not_provided">Task failure when action is not provided.</h4>
<div class="paragraph">
<p>Task creation will not happen, when required data is missing in the input JSON during POST. Due to this reason, you will not see id or selfLink in the response for validation failures.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>{
    "code": 400,
    "message": "action is missing",
    "originalRequestBody": "{\"id\":\"e8f92ff2-0367-4393-b79f-ea91147c71ac\",\"status\":\"CREATED\",\"name\":\"revoke-oauth-tokens\",\"generation\":1,\"lastUpdateMicros\":1480715155144821,\"kind\":\"cm:access:tasks:revoke-tokens:oauthrevoketokentaskitemstate\",\"selfLink\":\"https://localhost/mgmt/cm/access/tasks/revoke-tokens/e8f92ff2-0367-4393-b79f-ea91147c71ac\"}",
    "referer": "192.168.85.74",
    "restOperationId": 5541817,
    "kind": ":resterrorresponse"
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_task_failure_when_required_input_is_not_available">Task failure when required input is not available.</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>{
    "code": 400,
    "message": "Request should have atleast one of these fields populated: accessGroupNames , clusterNames , machineIds ",
    "originalRequestBody": "{\"action\":\"REVOKE_TOKEN_FOR_CLIENT_ID\",\"perDeviceOauthIds\":[{\"deviceReference\":{\"link\":\"https://localhost/mgmt/cm/system/machineid-resolver/901695c8-f405-489f-9996-54f7b21da642\"}}],\"id\":\"0bd7f801-2b83-46ec-a953-2464b9a5aada\",\"status\":\"CREATED\",\"name\":\"revoke-oauth-tokens\",\"generation\":1,\"lastUpdateMicros\":1480723471881889,\"kind\":\"cm:access:tasks:revoke-tokens:oauthrevoketokentaskitemstate\",\"selfLink\":\"https://localhost/mgmt/cm/access/tasks/revoke-tokens/0bd7f801-2b83-46ec-a953-2464b9a5aada\"}",
    "referer": "192.168.85.74",
    "restOperationId": 5898985,
    "kind": ":resterrorresponse"
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_task_failure_when_for_given_input_there_is_no_matching_devices_for_non_existing_or_invalid_device_reference_or_access_group_or_cluster_names">Task failure when for given input, there is no matching devices for non-existing or invalid (device reference or access group or cluster names)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>{
    "accessGroupNames": [
        "TestGroup1",
        "TestGroup2",
        null
    ],
    "action": "REVOKE_TOKEN_FOR_CLIENT_ID",
    "clientId": "e3f3e7204d00d88ad92cbb970dd5005056b093adfa6d7457",
    "clusterNames": [
        "BlueCluster",
        "RedCluster"
    ],
    "currentStep": "RESOLVE_DEVICES",
    "deviceReferences": [
        {
            "link": "https://localhost/mgmt/cm/system/machineid-resolver/901695c8-f405-489f-9996-54f7b21da642"
        }
    ],
    "endDateTime": "2016-12-02T13:57:54.644-0800",
    "errorMessage": "No matching device(s) found for given accessGroup or cluster or deviceReference list.",
    "failureDetails": [],
    "generation": 2,
    "id": "8cb892a9-98a1-4433-ab09-e1d3ceafd3e6",
    "identityReferences": [
        {
            "link": "https://localhost/mgmt/shared/authz/users/admin"
        }
    ],
    "kind": "cm:access:tasks:revoke-tokens:oauthrevoketokentaskitemstate",
    "lastUpdateMicros": 1480715874695778,
    "name": "revoke-oauth-tokens",
    "ownerMachineId": "fd870e82-842d-4194-a882-71cb92e2a5c3",
    "selfLink": "https://localhost/mgmt/cm/access/tasks/revoke-tokens/8cb892a9-98a1-4433-ab09-e1d3ceafd3e6",
    "startDateTime": "2016-12-02T13:57:54.640-0800",
    "status": "FAILED",
    "userReference": {
        "link": "https://localhost/mgmt/shared/authz/users/admin"
    },
    "username": "admin"
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_task_failure_when_when_input_is_valid_but_the_matching_tokens_doesn_t_exist_anymore_on_big_ip_for_revoke_token_for_user_or_revoke_token_for_client_id_action">Task failure when when input is valid, but the matching tokens doesn&#8217;t exist anymore on BIG-IP for REVOKE_TOKEN_FOR_USER or REVOKE_TOKEN_FOR_CLIENT_ID action</h4>
<div class="paragraph">
<p>Even for valid request, you can sometimes see failures, because currently API will try to revoke EXPIRED tokens also.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>{
    "action": "REVOKE_TOKEN_FOR_CLIENT_ID",
    "clientId": "e3f3e7204d00d88ad92cbb970dd5005056b093adfa6d7457",
    "currentStep": "REVOKE_TOKENS_FOR_STANDALONE",
    "deviceReferences": [
	{
	    "link": "https://localhost/mgmt/shared/resolver/device-groups/cm-access-allBigIpDevices/devices/b795b3da-b703-4b7c-9f9b-ec3d32a7668d"
	}
    ],
    "endDateTime": "2016-12-02T14:47:25.215-0800",
    "errorMessage": "Tokens not found in index. Possibly already revoked tokens.",
    "failureDetails": [
	{
	    "failedIds": [
		{
		    "errorCode": 400,
		    "error": "status:400, body:{\"code\":400,\"message\":\"Token revoke failed. The OAuth ID is not found\",\"errorStack\":[],\"apiError\":26214401}",
		    "id": "21548559d296d726b12747ab45f5aed0d249436e652f1ff5",
		    "dbInstance": "/Common/oauthdb",
		    "clientId": "e3f3e7204d00d88ad92cbb970dd5005056b093adfa6d7457"
		},
		{
		    "errorCode": 400,
		    "error": "status:400, body:{\"code\":400,\"message\":\"Token revoke failed. The OAuth ID is not found\",\"errorStack\":[],\"apiError\":26214401}",
		    "id": "b189aa46265af31c6f240d1789374dd985d6baea546217e7",
		    "dbInstance": "/Common/oauthdb",
		    "clientId": "e3f3e7204d00d88ad92cbb970dd5005056b093adfa6d7457"
		},
		{
		    "errorCode": 400,
		    "error": "status:400, body:{\"code\":400,\"message\":\"Token revoke failed. The OAuth ID is not found\",\"errorStack\":[],\"apiError\":26214401}",
		    "id": "6c784d41f24baefa363834be139e66dd0ba61f045227fb87",
		    "dbInstance": "/Common/oauthdb",
		    "clientId": "e3f3e7204d00d88ad92cbb970dd5005056b093adfa6d7457"
		},
		{
		    "errorCode": 400,
		    "error": "status:400, body:{\"code\":400,\"message\":\"Token revoke failed. The OAuth ID is not found\",\"errorStack\":[],\"apiError\":26214401}",
		    "id": "b3913c61dad4e65aa2cd1c3fb5f3e3d74adf2b01f851e687",
		    "dbInstance": "/Common/oauthdb",
		    "clientId": "e3f3e7204d00d88ad92cbb970dd5005056b093adfa6d7457"
		},
		{
		    "errorCode": 400,
		    "error": "status:400, body:{\"code\":400,\"message\":\"Token revoke failed. The OAuth ID is not found\",\"errorStack\":[],\"apiError\":26214401}",
		    "id": "08f38dc356b4d5ad6e5f856c0f2792aa98ae993b2305469b",
		    "dbInstance": "/Common/oauthdb",
		    "clientId": "e3f3e7204d00d88ad92cbb970dd5005056b093adfa6d7457"
		}
	    ],
	    "deviceReference": {
		"link": "https://localhost/mgmt/shared/resolver/device-groups/cm-access-allBigIpDevices/devices/b795b3da-b703-4b7c-9f9b-ec3d32a7668d"
	    }
	}
    ],
    "generation": 6,
    "id": "92be2f5d-2d88-4810-be1f-72443a4e87d0",
    "identityReferences": [
	{
	    "link": "https://localhost/mgmt/shared/authz/users/admin"
	}
    ],
    "kind": "cm:access:tasks:revoke-tokens:oauthrevoketokentaskitemstate",
    "lastUpdateMicros": 1480718845268487,
    "name": "revoke-oauth-tokens",
    "ownerMachineId": "fd870e82-842d-4194-a882-71cb92e2a5c3",
    "result": "FAILED",
    "selfLink": "https://localhost/mgmt/cm/access/tasks/revoke-tokens/92be2f5d-2d88-4810-be1f-72443a4e87d0",
    "startDateTime": "2016-12-02T14:47:09.095-0800",
    "status": "FAILED",
    "userReference": {
	"link": "https://localhost/mgmt/shared/authz/users/admin"
    },
    "username": "admin"
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_task_failure_when_when_input_is_valid_but_the_matching_tokens_doesn_t_exist_anymore_on_big_ip_for_revoke_token_for_user_action">Task failure when when input is valid, but the matching tokens doesn&#8217;t exist anymore on BIG-IP for REVOKE_TOKEN_FOR_USER action</h4>
<div class="paragraph">
<p>Even for valid request, you can sometimes see failures, because currently API will try to revoke EXPIRED tokens also.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>{
    "action": "REVOKE_TOKEN_FOR_USER",
    "currentStep": "REVOKE_TOKENS_FOR_STANDALONE",
    "deviceReferences": [
	{
	    "link": "https://localhost/mgmt/shared/resolver/device-groups/cm-access-allBigIpDevices/devices/b795b3da-b703-4b7c-9f9b-ec3d32a7668d"
	}
    ],
    "endDateTime": "2016-12-02T15:01:22.144-0800",
    "errorMessage": "Tokens not found in index. Possibly already revoked tokens.",
    "failureDetails": [
	{
	    "failedIds": [
		{
		    "errorCode": 400,
		    "error": "status:400, body:{\"code\":400,\"message\":\"Token revoke failed. The OAuth ID is not found\",\"errorStack\":[],\"apiError\":26214401}",
		    "id": "7578a282db6c6e37a396421cb0a6511c58ee7d64e2dd1050",
		    "dbInstance": "/Common/oauthdb",
		    "clientId": "e3f3e7204d00d88ad92cbb970dd5005056b093adfa6d7457"
		},
		{
		    "errorCode": 400,
		    "error": "status:400, body:{\"code\":400,\"message\":\"Token revoke failed. The OAuth ID is not found\",\"errorStack\":[],\"apiError\":26214401}",
		    "id": "8a9fc4951123ac5f8c0014331aa0d58dfe6c7436d26a503c",
		    "dbInstance": "/Common/oauthdb",
		    "clientId": "e3f3e7204d00d88ad92cbb970dd5005056b093adfa6d7457"
		},
		{
		    "errorCode": 400,
		    "error": "status:400, body:{\"code\":400,\"message\":\"Token revoke failed. The OAuth ID is not found\",\"errorStack\":[],\"apiError\":26214401}",
		    "id": "e376b1c025577121a883d9dfc13ccbf93dcc201ac617225b",
		    "dbInstance": "/Common/oauthdb",
		    "clientId": "e3f3e7204d00d88ad92cbb970dd5005056b093adfa6d7457"
		},
		{
		    "errorCode": 400,
		    "error": "status:400, body:{\"code\":400,\"message\":\"Token revoke failed. The OAuth ID is not found\",\"errorStack\":[],\"apiError\":26214401}",
		    "id": "3b7e0e581400df4786708e0447f9c3b285cee9533616e686",
		    "dbInstance": "/Common/oauthdb",
		    "clientId": "e3f3e7204d00d88ad92cbb970dd5005056b093adfa6d7457"
		}
	    ],
	    "deviceReference": {
		"link": "https://localhost/mgmt/shared/resolver/device-groups/cm-access-allBigIpDevices/devices/b795b3da-b703-4b7c-9f9b-ec3d32a7668d"
	    }
	}
    ],
    "generation": 6,
    "id": "5c717dcf-fa6a-4ae1-b5fd-3b20be6f2ba7",
    "identityReferences": [
	{
	    "link": "https://localhost/mgmt/shared/authz/users/admin"
	}
    ],
    "kind": "cm:access:tasks:revoke-tokens:oauthrevoketokentaskitemstate",
    "lastUpdateMicros": 1480719682195917,
    "name": "revoke-oauth-tokens",
    "ownerMachineId": "fd870e82-842d-4194-a882-71cb92e2a5c3",
    "result": "FAILED",
    "selfLink": "https://localhost/mgmt/cm/access/tasks/revoke-tokens/5c717dcf-fa6a-4ae1-b5fd-3b20be6f2ba7",
    "startDateTime": "2016-12-02T15:00:45.580-0800",
    "status": "FAILED",
    "userName": "jack",
    "userReference": {
	"link": "https://localhost/mgmt/shared/authz/users/admin"
    },
    "username": "admin"
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_task_failure_when_devicereference_is_missing_for_revoke_list_of_tokens_action">Task failure when deviceReference is missing for REVOKE_LIST_OF_TOKENS action</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>{
    "code": 400,
    "message": "Expected deviceReference per list of perDeviceOauthIds",
    "originalRequestBody": "{\"action\":\"REVOKE_LIST_OF_TOKENS\",\"perDeviceOauthIds\":[{}],\"id\":\"9707fa05-eb02-4827-aff1-b1059673ef1f\",\"status\":\"CREATED\",\"name\":\"revoke-oauth-tokens\",\"generation\":1,\"lastUpdateMicros\":1480723333609721,\"kind\":\"cm:access:tasks:revoke-tokens:oauthrevoketokentaskitemstate\",\"selfLink\":\"https://localhost/mgmt/cm/access/tasks/revoke-tokens/9707fa05-eb02-4827-aff1-b1059673ef1f\"}",
    "referer": "192.168.85.74",
    "restOperationId": 5895882,
    "kind": ":resterrorresponse"
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_task_failure_when_oauthids_are_missing_for_revoke_list_of_tokens_action">Task failure when oauthIds are missing for REVOKE_LIST_OF_TOKENS action</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>{
    "code": 400,
    "message": "Expected oauthIds per list of perDeviceOauthIds",
    "originalRequestBody": "{\"action\":\"REVOKE_LIST_OF_TOKENS\",\"perDeviceOauthIds\":[{\"deviceReference\":{\"link\":\"https://localhost/mgmt/cm/system/machineid-resolver/901695c8-f405-489f-9996-54f7b21da642\"}}],\"id\":\"691e86a6-4adb-48c7-8e45-3c9a43d3d8a4\",\"status\":\"CREATED\",\"name\":\"revoke-oauth-tokens\",\"generation\":1,\"lastUpdateMicros\":1480723393766436,\"kind\":\"cm:access:tasks:revoke-tokens:oauthrevoketokentaskitemstate\",\"selfLink\":\"https://localhost/mgmt/cm/access/tasks/revoke-tokens/691e86a6-4adb-48c7-8e45-3c9a43d3d8a4\"}",
    "referer": "192.168.85.74",
    "restOperationId": 5897207,
    "kind": ":resterrorresponse"
}</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2016-12-06 17:17:24 EST
</div>
</div>
</body>
</html>